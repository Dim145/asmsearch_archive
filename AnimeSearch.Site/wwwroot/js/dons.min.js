$("#swalDon").click(()=>{function i(){let i="";for(let r=n.length-1;r>=0;r--)console.log(r),n[r].value<=t&&(t-=n[r].value,i+=`<option value="${r}" ${r==0?"selected":""}>${n[r].name}</option>`);return i}let t=$("#swalDon").data("props");const n=[{name:"Eur (PayPal)",url:"/ressources/images/paypal.svg",value:1},{name:"BTC (OpenNode)",url:"/ressources/images/opennode.svg",value:2}];SwalFire({iconHtml:`<img width='80' id='logo' src='${n.filter(n=>n.value<=t)[0].url}' />`,title:"Faire un don",confirmButtonText:"Valider",denyButtonText:"Annuler",showDenyButton:!0,input:"number",inputPlaceholder:"Montant en EUR",inputAttributes:{id:"inswalput",step:.1},preConfirm:()=>{let n=document.getElementById("inswalput").value;if(n&&n>=1)return n;Swal.showValidationMessage("Le montant doit être supérieur ou égal à 1.")},html:`<select class="swal2-select" id="typeDon">${i()}</select>`}).then(n=>{if(n.value){let t=$("#typeDon").val(),i="/api/donate?type="+t+"&amount="+n.value;t==0?window.location=i:window.open(i)}});$("#typeDon").change(()=>{let t=$("#typeDon").val();$("#logo").attr("src",n[t].url)})});