@using AnimeSearch.Database

@{
    ViewData["title"] = "Types de sites";
}

<h2 class="h2 w-100 text-center align-self-center text-white">@ViewData["title"]</h2>

<div class="rounded border" style="max-height: 65vh; overflow: auto;">
    <table class="table table-dark table-striped table-hover">
        <tr>
            <th class="text-center">Type de sites</th>
            <th>Action</th>
        </tr>

        @if (ViewData["types"] is not null and TypeSite[] types)
        {
            foreach (TypeSite t in types)
            {
                Dictionary<string, string> route = new();
                route.Add("id", t.Id.ToString());

                <tr>
                    <td>@t.Name</td>
                    <td><a class="btn btn-danger" asp-controller="admin" asp-action="suppType" asp-all-route-data='route'>Supp</a></td>
                </tr>
            }
        }
    </table>
</div>

<div class="row mt-2">
    <div class="col-2">
        <a class="btn btn-dark border-white" asp-controller="admin" asp-action="index">Retour</a>
    </div>
    <div class="col text-right">
        <form asp-controller="admin" asp-action="addType" method="post">
            <input class="form-control w-50 d-inline align-bottom center" type="text" name="name" maxlength="50" required placeholder="(50 caracteres max)" />
            <button class="btn btn-success" data-toggle="modal">Ajouter</button>
        </form>
    </div>
</div>