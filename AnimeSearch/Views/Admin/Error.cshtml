@using Microsoft.AspNetCore.Identity;
@using AnimeSearch.Database;

@{
    ViewData["Title"] = "Error";

    int na = ViewData["na"] is not null and int tmp ? tmp : 0;
}

<h1 class="text-danger">Liste des Erreurs.</h1>
<h2 class="text-danger">Contient les erreus <a title="Les erreus prévue sont celle qui sont attrapé (=catch) par le système (= les dev savent que cette erreur peut arrivé.)">'prévue'*</a> par le site (HTML inclus) et surevenue lors d'un chargement.</h2>

<p class="text-white">
    Cette page peut être utile pour détecter les sites ne pouvant plus être intérrogé par le serveur. 
    Mais les erreurs internes (autres que HTML) ne sont utile qu'a un développeur.
</p>

<table class="table table-dark text-white">
    @if( ViewData["errors"] is not null and string[] tabErrors)
    {
        foreach(string s in tabErrors)
        {
            <tr class="text-white">
                <td>
                    <pre class="text-white">@(na >= Utilities.DROIT_MODIF_HAUT ? s : s[0..(s.IndexOf("\n")-1)])</pre>
                </td>
            </tr>
        }
    }
</table>