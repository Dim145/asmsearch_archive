$(document).ready(()=>{let n=$("form");$("#val").click(()=>{$(".filter").each((t,i)=>{let r=$(i).data("select");r!=0&&n.append($("<input>").attr("type","hidden").attr("name",r==1?"with_genres":"without_genres").attr("value",i.innerText))})});$(".filter").each((t,i)=>{i.onclick=()=>{let r=$(i),t=r.data("select");r.toggleClass(t==0?"btn-dark":t==1?"btn-success":"btn-danger");r.data("select",t==0?1:t==-1?0:-1);t=r.data("select");r.toggleClass(t==0?"btn-dark":t==1?"btn-success":"btn-danger");n.attr("method")=="get"&&n.attr("method","post")}});$("#reset").click(()=>{$(".filter").each((n,t)=>{let i=$(t),r=i.data("select");i.toggleClass(r==0?"btn-dark":r==1?"btn-success":"btn-danger");i.data("select",0);r=i.data("select");i.toggleClass("btn-dark")})});$(".box").each((n,t)=>{let i=$(t),r=i.children().last();i.children().first()[0].scrollHeight>i.children().first()[0].offsetHeight?r.click(n=>{i.toggleClass("open"),n.preventDefault()}):r.remove()})});